{% extends "app/layout.html" %}

{% block content %}
<h1>
  Display Weather Data from File for {{ header_line }}
</h1>

<div class="panel panel-default">
  <div class='panel-body'>
    <h2>Chart Test</h2>
    <canvas id='myChart'></canvas>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js'></script>
<script type="text/javascript">
  var test = "{{ file_content | safe }}"
  console.log(test)
  var ctx = document.getElementById('myChart').getContext('2d');
  var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
      labels: ["January", "February", "March", "April", "May", "June", "July"],
      datasets: [{
        label: "My First dataset",
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [0, 10, 5, 2, 20, 30, 45],
      }]
    },

    // Configuration options go here
    options: {}
  });
</script>
{% endblock %}